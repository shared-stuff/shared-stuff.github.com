(function(){var b,e,f,g,i,a,c,h=Object.prototype.hasOwnProperty;b=function(c,a){var d,b;b=[];for(d=c;c<=a?d<=a:d>=a;c<=a?d++:d--)b.push(String.fromCharCode(d));return b};a=function(){var a;a=[];for(c=0;9>=c;c++)a.push(""+c);return a}().concat(b(65,90)).concat(b(97,122));i=function(a){return a[Math.floor(Math.random()*a.length)]};f=function(a){return!a||/^\s*$/.test(a)};e=function(a){var c,d,b;d="";for(c in a)b=a[c],"string"===typeof b?d+=" "+b.toLowerCase():"object"===typeof b&&(d+=" "+e(b));return d};
g=function(a,c){var d;d=e(a);return _.all(c,function(a){return 0<=d.indexOf(a)})};this.utils={log:function(a){return console.log(a)},focus:function(a){return setTimeout(function(){return $("#"+a).focus()},100)},cleanObjectFromAngular:function(a){var c,d,b,f,e;e=[];b=0;for(f=a.length;b<f;b++)c=a[b],e.push(function(){var a;a=[];for(d in c)h.call(c,d)&&(0<=d.indexOf("$$")?a.push(delete c[d]):a.push(void 0));return a}());return e},randomString:function(c){var b,d;d=[];for(b=0;0<=c?b<=c:b>=c;0<=c?b++:
b--)d.push(i(a));return d.join("")},doNothing:function(){},defer:function(a){return setTimeout(function(){return a()},1)},isBlank:f,focusAndSelect:function(a){return setTimeout(function(){return $("#"+a).focus().select()},100)},applyIfNeeded:function(a,c){return a.$root.$$phase?c():a.$apply(c)},search:function(a,c){var d;if(f(c))return a;d=c.toLowerCase().split(/\s+/g);return _.filter(a,function(a){return g(a,d)})}}}).call(this);var remoteStorageUtils=function(){function b(d,a,c,b){"timeout"==d?window.confirm("We got an timeout! Shoud I try again?")?a.apply(this,c):b&&b():401==d&&window.alert("Looks like your session has expired! Please log out and log back in.")}function e(){return location.href.substring(0,location.href.length-location.hash.length).replace(/\/[^\/]*$/,"")+"/remote-storage-login-popup.html"}function f(d,a,i){var j=arguments;c=i;var l=e();h=window.open(l);g(d,function(d,c){if(c){var m=remoteStorage.createOAuthAddress(c,
a,l);h.location.replace(m)}else h.close();b(d,f,j)})}function g(d,a){remoteStorage.getStorageInfo(d,function(d,c){d?(alert("Could not load storage info"),console.log(d)):(console.log("Storage info received:"),console.log(c),localStorage.setItem(k,JSON.stringify(c)));a(d,c)})}function i(d,a,c){var f=arguments,e=JSON.parse(localStorage.getItem(k));if("public"==d)e=remoteStorage.createClient(e,"public");else var g=localStorage.getItem(j),e=remoteStorage.createClient(e,d,g);e.get(a,function(e,m){e?(console.log(e),
b(e,i,f,function(){c(e,m)})):(void 0==m?console.log("There wasn't anything for \""+a+'" in category "'+d+'"'):console.log('We received this for key "'+a+'" in category "'+d+'": '+m),c(void 0,m))})}function a(d,a,c,e){var f=arguments,g=JSON.parse(localStorage.getItem(k)),h=localStorage.getItem(j);remoteStorage.createClient(g,d,h).put(a,c,function(m){m?(console.log('Could not store "'+a+'" in "'+d+'" category'),console.log(m),b(m,i,f,function(){e&&e(m)})):(console.log('Stored "'+c+'" for key "'+a+'" in "'+
d+'" category'),e&&e())})}var c,h,j="remoteStorageToken",k="userStorageInfo";window.addEventListener("message",function(a){a.origin==location.protocol+"//"+location.host&&(console.log("Received an OAuth token: "+a.data),localStorage.setItem(j,a.data),c(a.data))},!1);return{connect:g,authorize:function(a,b){c=b;var f=JSON.parse(localStorage.getItem(k)),g=e();console.log("RedirectUrl: "+g);f=remoteStorage.createOAuthAddress(f,a,g);window.open(f)},connectAndAuthorize:f,getItem:i,setItem:a,isLoggedOn:function(d){(!localStorage.getItem(k)||
!localStorage.getItem(j))&&setTimeout(function(){d(!1)},10);try{a("sharedstuff","loggedOnTest","test",function(a){d(!a)})}catch(c){d(!1)}},deleteToken:function(){localStorage.removeItem(j)}}}();(function(){var b,e,f,g;g=utils.isBlank;f=function(){function b(a){var c;this.title=(null!=a?a.title:void 0)||"";this.description=(null!=a?a.description:void 0)||"";this.visibility=(null!=a?a.visibility:void 0)||"friends";this.sharingTypes=(null!=a?a.sharingTypes:void 0)||["rent"];this.categories=(null!=a?a.categories:void 0)||"";this.link=(null!=a?a.link:void 0)||"";this.image=(null!=a?a.image:void 0)||"";c=(new Date).getTime();this.id=(null!=a?a.id:void 0)||""+c;this.created=(null!=a?a.created:
void 0)||c;this.modified=(null!=a?a.modified:void 0)||this.created}b.prototype.modify=function(){return this.modified=(new Date).getTime()};return b}();b=function(){function b(a){a=a||{};this.id=a.id||""+(new Date).getTime();this.name=a.name||a.userAddress||"";this.userAddress=a.userAddress||"";this.secret=a.secret||""}b.prototype.sanitize=function(){if(utils.isBlank(this.name))return this.name=this.userAddress};return b}();e=function(){function b(a){a=a||{};this.name=a.name||"";this.email=a.email||
"";this.image=a.image||""}b.isEmpty=function(){return g(this.name)&&g(this.email)&&g(this.image)};return b}();this.Stuff=f;this.Friend=b;this.Profile=e}).call(this);(function(){var b,e,f,g,i,a,c,h,j,k,d,o,n,p,l,q=Object.prototype.hasOwnProperty,r=function(a,d){function c(){this.constructor=a}for(var b in d)q.call(d,b)&&(a[b]=d[b]);c.prototype=d.prototype;a.prototype=new c;a.__super__=d.prototype;return a};n=utils.log;o=utils.isBlank;j=utils.doNothing;p=utils.randomString;h=utils.defer;f="sharedstuff-profile";l=remoteStorageUtils;a=function(){function a(d,c){this.category=d;this.key=c}a.prototype.readAllItems=function(a){var d;d=this;return d.dataCache?h(function(){return a(d.dataCache.items)}):
l.getItem(this.category,this.key,function(c,b){d.dataCache=JSON.parse(b||'{"items":[]}');d.dataCache.items||(d.dataCache={items:[]});return a(d.dataCache.items)})};a.prototype.findItemByID=function(a,d){return _.find(a,function(a){return a.id===d})};a.prototype.list=function(a){return this.readAllItems(a)};a.prototype.getItem=function(a,d){return this.readAllItems(function(c){return d(_.find(c,function(d){return d.id===a}))})};a.prototype.save=function(a,d){utils.cleanObjectFromAngular(a);this.dataCache||
(this.dataCache={});this.dataCache.items=a;return l.setItem(this.category,this.key,JSON.stringify(this.dataCache),d)};a.prototype.saveItem=function(a,d){var c;c=this;return this.readAllItems(function(b){var e;(e=c.findItemByID(b,a.id))?b[_.indexOf(b,e)]=a:b.push(a);return c.save(b,d)})};a.prototype.deleteItem=function(a,d){var c;c=this;return this.readAllItems(function(b){var e;e=c.findItemByID(b,a);return c.save(_.without(b,e),d)})};return a}();e=function(a){function d(a,c,b){this.category=a;this.key=
c;this.settingsDAO=b}r(d,a);d.prototype.save=function(a,c){var b;d.__super__.save.call(this,a,c);this.settingsDAO.getSecret(function(d){return l.setItem("public","sharedstuff-"+d,JSON.stringify({items:a}),j)});b=_.filter(a,function(a){return"public"===a.visibility});return l.setItem("public","sharedstuff-public",JSON.stringify({items:b}),j)};return d}(a);(function(){function a(d){this.key=d}a.prototype.readAllItems=function(){return JSON.parse(localStorage.getItem(this.key)||"[]")};a.prototype.findItemByID=
function(a,d){return _.find(a,function(a){return a.id===d})};a.prototype.list=function(a){return a(this.readAllItems())};a.prototype.getItem=function(a,d){return d(_.find(this.readAllItems(),function(d){return d.id===a}))};a.prototype.save=function(a){utils.cleanObjectFromAngular(a);return localStorage.setItem(this.key,JSON.stringify(a))};a.prototype.saveItem=function(a){var d,c;d=this.readAllItems();c=this.findItemByID(d,a.id);d[_.indexOf(d,c)]=a;return this.save(d)};a.prototype.deleteItem=function(a){var d;
d=this.readAllItems();a=this.findItemByID(d,a);return this.save(_.without(d,a))};return a})();c=function(){function a(){this.settings=null;this.key="settings"}a.prototype.readSettings=function(a){var d;d=this;return d.settings?h(function(){return a(d.settings)}):l.getItem("sharedstuff",d.key,function(c,b){var e;if("timeout"!==c){e=JSON.parse(b||"{}");d.settings=e;if(e.secret)return a(e);e.secret=p(20);return d.saveSettings(a)}})};a.prototype.getSecret=function(a){return this.readSettings(function(d){return a(d.secret)})};
a.prototype.saveSettings=function(a){var d;d=this;return l.setItem("sharedstuff",d.key,JSON.stringify(d.settings),function(){return a(d.settings)})};return a}();g=function(){function a(d){this.publicRemoteStorageService=d;this.profile=null;this.key=f}a.prototype.load=function(a){var d;d=this;return d.profile?h(function(){return a(d.profile)}):l.getItem("public",d.key,function(c,b){d.profile=JSON.parse(b||"{}");return a(new Profile(d.profile))})};a.prototype.save=function(a,d){var c;c=this;c.profile=
a;return l.setItem("public",c.key,JSON.stringify(c.profile),function(){return d(c.profile)})};a.prototype.getByFriend=function(a,d){return this.publicRemoteStorageService.get(a.userAddress,this.key,{},function(a){return d(new Profile(a))})};return a}();i=function(){function a(){this.clientByUserAddress={}}a.prototype.get=function(a,d,c,b){var e;e=this;if(a)return this.clientByUserAddress[a]?this.getByClient(this.clientByUserAddress[a],d,c,b):remoteStorage.getStorageInfo(a,function(f,g){var h;if(g)return h=
remoteStorage.createClient(g,"public"),e.clientByUserAddress[a]=h,e.getByClient(h,d,c,b);n(f);return b(c,f)});n("Missing UserAdress!");return b(c)};a.prototype.getByClient=function(a,d,c,b){return a.get(d,function(a,d){return d?b(JSON.parse(d)):b(c)})};return a}();d=function(a,d){return _.map((null!=a?a.items:void 0)||[],d)};b=function(){function a(d,c){this.friendDAO=d;this.publicRemoteStorageDAO=c;this.friendsStuffList=[]}a.prototype.listStuffByFriend=function(a,c){return this.publicRemoteStorageDAO.get(a.userAddress,
k(a),[],function(b){return c(d(b,function(d){d=new Stuff(d);d.owner=a;return d}))})};a.prototype.validateFriend=function(a,d){return utils.isBlank(a.userAddress)?d(["userAddress"]):remoteStorage.getStorageInfo(a.userAddress,function(c,b){var e;if(b)return e=remoteStorage.createClient(b,"public"),e.get(k(a),function(a,c){if(c)return d([]);n(a);return d(["secret"])});n(c);return d(["userAddress"])})};a.prototype.clearCache=function(){return this.friendsStuffList=[]};a.prototype.list=function(a){var d;
d=this;return this.friendDAO.list(function(c){var b,e,f,g,h;e=0;0===c.length&&a(d.friendsStuffList,"NO_FRIENDS");h=[];f=0;for(g=c.length;f<g;f++)b=c[f],h.push(d.listStuffByFriend(b,function(b){d._updateWithLoadedItems(b);e++;return a(d.friendsStuffList,e===c.length?"LOADED":"LOADING")}));return h})};a.prototype._updateWithLoadedItems=function(a){var d,c,b,e,f;f=[];b=0;for(e=a.length;b<e;b++)c=a[b],(d=_.find(this.friendsStuffList,function(a){return a.id===c.id}))?f.push(this.friendsStuffList[_.indexOf(this.friendsStuffList,
d)]=c):f.push(this.friendsStuffList.push(c));return f};return a}();k=function(a){return"sharedstuff-"+(!o(a.secret)?a.secret:"public")};(function(){var d,f,h;d=new a("sharedstuff","myFriendsList");h=new c;f=new i;return angular.module("myApp.services",[]).value("version","0.1").value("settingsDAO",h).value("stuffDAO",new e("sharedstuff","myStuffList",h)).value("friendDAO",d).value("friendsStuffDAO",new b(d,f)).value("profileDAO",new g(f))})()}).call(this);(function(){var b,e,f,g,i;f=utils.log;e=utils.applyIfNeeded;i=function(a){return/^\/[^@\/]+@.+/.test(a)};g=function(a){return!(_.any(["invitation","login"],function(c){return 1===a.indexOf(c)})||i(a))};b=function(a,c){var b;a.isAppLoaded=!1;a.session={userAddress:localStorage.getItem("userAddress"),isLoggedIn:!1};a.logout=function(){remoteStorageUtils.deleteToken();localStorage.removeItem("userAddress");a.session={userAddress:null,isLoggedIn:!1};return window.location.href="logout.html"};a.setLoggenOn=
function(){a.session={userAddress:localStorage.getItem("userAddress"),isLoggedIn:!0};a.isAppLoaded=!0;return a.$digest()};b=function(){var b;b=c.path();f(b);if(!a.session.isLoggedIn&&g(c.path()))return sessionStorage.setItem("targetPath",b),e(a,function(){return c.path("/login").replace()})};if(a.session.userAddress)return remoteStorageUtils.isLoggedOn(function(c){c?a.setLoggenOn():(a.session={userAddress:null,isLoggedIn:!1},e(a,function(){return a.isAppLoaded=!0}),b());return a.$on("$beforeRouteChange",
b)});a.$on("$beforeRouteChange",b);return a.isAppLoaded=!0};b.needsUserLoggedIn=g;b.$inject=["$scope","$location"];this.AppController=b}).call(this);(function(){var b,e,f,g,i,a,c,h,j,k;c=utils.focus;h=utils.focusAndSelect;j=utils.isBlank;f=function(a,b,e,f,g){a.friendList=[];a.isAddFriendFormHidden=!0;a.isInviteFriendButtonShown=!0;b.list(function(c){a.friendList=c;a.isAddFriendFormHidden=0<a.friendList.length;g.userAddress&&(a.friend=new Friend({name:g.name,userAddress:g.userAddress,secret:g.secret}),a.isAddFriendFormHidden=!1);a.status="LOADED";return a.$digest()});a.showAddForm=function(){a.isAddFriendFormHidden=!1;a.isInviteFriendButtonShown=
!1;return c("name")};a.closeForm=function(){a.isAddFriendFormHidden=!0;return a.isInviteFriendButtonShown=!0};a.friend=new Friend;a.addFriend=function(){a.friend.sanitize();return e.validateFriend(a.friend,function(e){if(0===e.length)return a.friendList.push(new Friend(a.friend)),b.save(a.friendList),a.friend=new Friend,a.closeForm(),a.$digest(),c("showAddFriendFormButton");a.showValidationErrors=!0;return k(a.friend,e)})};a.inviteFriend=function(){return f.path("/share-stuff")};return c("showAddFriendFormButton")};
i=function(d,c){return a(d)+"/"+c};a=function(a){var c;c=window.location;return c.protocol+"//"+c.host+c.pathname+"#"+a};f.$inject=["$scope","friendDAO","friendsStuffDAO","$location","$routeParams"];b=function(a,c,b,e,f,g){var h,i;a.friend=new Friend;a.editMode=!1;a.stuffList=[];a.profile={};a.showValidationErrors=!0;h=function(){return c.getItem(f.id,function(c){a.friend=new Friend(c);a.$digest();b.listStuffByFriend(c,function(c){a.stuffList=c;return a.$digest()});return e.getByFriend(c,function(c){a.profile=
new Profile(c);return a.$digest()})})};h();i=function(){return a.$apply(function(){return g.path("/friends")})};a.save=function(){a.friend.sanitize();return b.validateFriend(a.friend,function(b){return 0===b.length?c.saveItem(a.friend,function(){a.editMode=!1;return h()}):k(a.friend,b)})};a.showEditMode=function(){return a.editMode=!0};return a["delete"]=function(){if(window.confirm('Do you really want to delete your friend "'+a.friend.name+'"?'))return c.deleteItem(a.friend.id,i)}};b.$inject="$scope,friendDAO,friendsStuffDAO,profileDAO,$routeParams,$location".split(",");
k=function(a,c){var b;b=c.join(",")+" seems invalid.";_.include(c,"secret")&&(b=j(a.secret)?b+" This could mean that your friend has not added public shared stuff yet.":b+" This could mean that your friend has not added secret shared stuff yet.");return window.alert(b)};e=function(a,c,b,e,f,g){var h;a.stuffList=[];h=new Friend({userAddress:f.user+"@"+f.host,secret:f.secret});a.friend=h;a.profile={};b.listStuffByFriend(h,function(c){a.stuffList=c;return a.$digest()});e.getByFriend(h,function(c){a.profile=
new Profile(c);h.name=c.name?c.name:h.userAddress.replace(/@.*$/,"")||"unkown";return a.$digest()});return a.addFriend=function(){return g.path("/addFriend/"+h.name+"/"+h.userAddress+"/"+h.secret)}};e.$inject="$scope,friendDAO,friendsStuffDAO,profileDAO,$routeParams,$location".split(",");g=function(c,b,e){return e.list(function(e){if(0<e.length)return b.getSecret(function(b){var e;e=c.session.userAddress;c.inviteUrl=i(e,b);c.publicInviteUrl=a(e);c.$digest();return h("inviteUrl")});c.showNoStuffWarning=
!0;return c.$digest()})};g.$inject=["$scope","settingsDAO","stuffDAO"];this.FriendsController=f;this.FriendEditController=b;this.FriendViewController=e;this.ShareStuffController=g}).call(this);(function(){var b,e,f,g,i,a;a=utils.log;g=utils.focus;i=function(a){return!utils.isBlank(a.title)};f={friends:"Friends","public":"Public"};b=function(a,b){a.stuffList=[];a.isAddStuffFormHidden=!0;a.circles=f;a.sortAttribute=sessionStorage.getItem("my-stuff-sortAttribute")||"-modified";a.sortAttributeNames={"-modified":"Newest",title:"Title","owner.name":"Friend"};b.list(function(b){a.stuffList=b;a.isAddStuffFormHidden=0<a.stuffList.length;a.status="LOADED";return a.$digest()});a.showAddForm=function(){a.isAddStuffFormHidden=
!1;return g("title")};a.closeForm=function(){return a.isAddStuffFormHidden=!0};a.sortBy=function(b){sessionStorage.setItem("my-stuff-sortAttribute",b);return a.sortAttribute=b};a.stuff=new Stuff({visibility:sessionStorage.getItem("new-stuff-visibility")||null});a.addStuff=function(){return i(a.stuff)?(sessionStorage.setItem("new-stuff-visibility",a.stuff.visibility),a.stuffList.push(new Stuff(a.stuff)),b.save(a.stuffList,function(){}),a.stuff=new Stuff({visibility:a.stuff.visibility}),a.isAddStuffFormHidden=
!0,g("showAddStuffFormButton")):a.showValidationErrors=!0};return g("showAddStuffFormButton")};b.$inject=["$scope","stuffDAO"];e=function(c,b,e,g){var d;c.stuff=new Stuff;c.circles=f;b.getItem(e.id,function(a){c.stuff=new Stuff(a);return c.$digest()});d=function(){return c.$apply(function(){return g.path("/mystuff")})};c.save=function(){return i(c.stuff)?(a(c.stuff),c.stuff.modify(),b.saveItem(c.stuff,d)):c.showValidationErrors=!0};return c["delete"]=function(){if(window.confirm('Do you really want to delete this stuff called "'+
c.stuff.title+'"?'))return b.deleteItem(c.stuff.id,d)}};e.$inject=["$scope","stuffDAO","$routeParams","$location"];this.MyStuffController=b;this.MyStuffEditController=e}).call(this);(function(){var b,e;e=utils.log;b=function(b,g,i,a){var c,h;b.stuffList=[];b.filteredStuffList=[];b.sortAttribute=sessionStorage.getItem("friends-stuff-sortAttribute")||"-modified";b.sortAttributeNames={"-modified":"Newest",title:"Title","owner.name":"Friend"};b.status="LOADING";c=function(){return b.filteredStuffList=utils.search(b.stuffList,b.searchQuery)};h=function(){e("list friend's stuff");return a.list(function(a,e){b.stuffList=a;"LOADED"!==b.status&&(b.status=e);c();return b.$digest()})};
g(function(){a.clearCache();return h()});b.sortBy=function(a){sessionStorage.setItem("friends-stuff-sortAttribute",a);return b.sortAttribute=a};b.$watch("searchQuery",c);return b.$on("$destroy",function(){return e("destroyed FriendsStuffController")})};b.$inject=["$scope","$defer","friendDAO","friendsStuffDAO"];this.FriendsStuffController=b}).call(this);var log=utils.log;function AboutController(b){log("About");log(b.session);b.bla="blase";log(utils.randomString(10));b.msValues=[{id:"rent"},{id:"gift"},{id:"use-together"},{id:"sell"}]}AboutController.$inject=["$scope"];(function(){angular.module("myApp.directives",[]).directive("appVersion",["version",function(b){return function(e,f){return f.text(b)}}]).directive("appSelectOnFocus",[function(){return function(b,e){return e.bind("focus",function(){return setTimeout(function(){return e.select()},100)})}}]).directive("stuffImage",[function(){return function(b,e,f){e.addClass("stuffImageBox");return b.$watch(f.src,function(){var b,i;i=f.src;if(utils.isBlank(i))return e.hide();b=new Image;b.src=i;b.className="stuffImage";
return e.append(b)})}}]).directive("multiSelect",[function(){return function(b,e,f){e.addClass("multiSelect");return b.$watch(f.values,function(){var g,i,a;g=b.$eval(f.values);log(g);a=[];i=0;for(g=g.length;i<g;i++)e.append('<input type="checkbox" id="id"/>'),a.push(e.append("<label >"+id+"</label>"));return a})}}])}).call(this);angular.module("myApp.filters",[]).filter("interpolate",["version",function(b){return function(e){return(""+e).replace(/\%VERSION\%/mg,b)}}]).filter("urlize",function(){return function(b){return urlize(b,{target:"link"})}});(function(){var b,e,f,g,i,a;a=utils.log;i=utils.focus;g=function(b,e){a(["Loading Profile"]);e.load(function(e){b.profile=new Profile(e);a(["Loaded Profile",e]);return b.$digest()});return b.save=function(){return e.save(b.profile,function(){$("#savedAlert").addClass("in").removeClass("out");return setTimeout(function(){return $("#savedAlert").addClass("out").removeClass("in")},5E3)})}};g.$inject=["$scope","profileDAO"];b=function(a,b){a.secret="Loading secret ...";return b.getSecret(function(b){a.secret=
b;return a.$digest()})};b.$inject=["$scope","settingsDAO"];e=function(a,b,e){return a["export"]=function(){return e.list(function(e){return b.list(function(b){utils.cleanObjectFromAngular(e);utils.cleanObjectFromAngular(b);a.exportedData=JSON.stringify({stuff:e,friends:b});a.$digest();return i("exportTextarea")})})}};e.$inject=["$scope","friendDAO","stuffDAO"];f=function(a,b,e){a.importDataText="";return a.startImport=function(){var f,d,g;f=JSON.parse(a.importDataText);g=0;d=function(){g--;if(0===
g)return window.alert("Import Done!"),a.importDataText=""};null!=f&&f.stuff&&(g++,e.save(f.stuff,d));if(null!=f&&f.friends)return g++,b.save(f.friends,d)}};f.$inject=["$scope","friendDAO","stuffDAO"];this.AccountController=b;this.ExportController=e;this.ImportController=f;this.ProfileController=g}).call(this);(function(){var b,e,f;e=utils.log;f=remoteStorageUtils;b=function(b,i){e("Login");return b.login=function(){var a;try{return a=b.userAddress,e("userAddress:"+a),a?f.connectAndAuthorize(a,["public","sharedstuff"],function(){var c;localStorage.setItem("userAddress",a);b.setLoggenOn();c=sessionStorage.getItem("targetPath")||"/";sessionStorage.removeItem("targetPath");return b.$apply(function(){return i.path(c).replace()})}):alert("Please enter a remote storage id!")}catch(c){return e(c)}}};b.$inject=
["$scope","$location"];this.LoginController=b}).call(this);angular.module("myApp",["ngSanitize","myApp.filters","myApp.services","myApp.directives"]).config(["$routeProvider",function(b){b.when("/login",{template:"partials/login.html",controller:LoginController});b.when("/mystuff",{template:"partials/my-stuff.html",controller:MyStuffController});b.when("/mystuff/:id",{template:"partials/my-stuff-edit.html",controller:MyStuffEditController});b.when("/share-stuff",{template:"partials/share-stuff.html",controller:ShareStuffController});b.when("/friends",{template:"partials/friends.html",
controller:FriendsController});b.when("/friends/:id",{template:"partials/friend-edit.html",controller:FriendEditController});b.when("/addFriend/:name/:userAddress/:secret",{template:"partials/friends.html",controller:FriendsController});b.when("/addFriend/:name/:userAddress",{template:"partials/friends.html",controller:FriendsController});b.when("/invitation/:user@:host/:secret",{template:"partials/friend.html",controller:FriendViewController});b.when("/:user@:host/:secret",{template:"partials/friend.html",
controller:FriendViewController});b.when("/invitation/:user@:host",{template:"partials/friend.html",controller:FriendViewController});b.when("/:user@:host",{template:"partials/friend.html",controller:FriendViewController});b.when("/friends-stuff",{template:"partials/friends-stuff.html",controller:FriendsStuffController});b.when("/account",{template:"partials/profile.html",controller:ProfileController});b.when("/profile",{template:"partials/profile.html",controller:ProfileController});b.when("/export",
{template:"partials/account-export.html",controller:ExportController});b.when("/import",{template:"partials/account-import.html",controller:ImportController});b.when("/settings",{template:"partials/account-settings.html",controller:AccountController});b.when("/about",{template:"partials/about.html",controller:AboutController});b.otherwise({redirectTo:"/friends-stuff"})}]);angular.element(document).ready(function(){angular.bootstrap(document,["myApp"])});
